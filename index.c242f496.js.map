{"mappings":"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","sources":["src/ui.js","src/symbols.json","src/index.js","src/storage.js","src/autocomplete.js"],"sourcesContent":["export function alert(title, body, callback, blur) {\r\n    modal(title, new Element(\"p\", body).element.outerHTML, [\r\n        new ModalButton(\"Okay\", true, callback)\r\n    ], blur);\r\n}\r\n\r\nexport function prompt(title, body, buttons, blur) {\r\n    modal(title, new Element(\"p\", body).element.outerHTML, buttons, blur);\r\n}\r\n\r\nexport function modal(title, body, buttons, blur) {\r\n    const dialog = document.createElement(\"dialog\");\r\n    const buttonContainer = document.createElement(\"div\");\r\n    buttons.forEach(button => {\r\n        buttonContainer.append(\r\n            new Element(\"button\", button.text, () => {\r\n                button.close && dialog.close();\r\n                button.callback && button.callback();\r\n            }).element\r\n        );\r\n    });\r\n\r\n    dialog.append(new Element(\"h2\", title).element);\r\n    dialog.innerHTML += body;\r\n    dialog.append(buttonContainer);\r\n\r\n    document.body.append(dialog);\r\n    dialog.showModal();\r\n\r\n    blur && buttonContainer.querySelectorAll(\"button\").forEach(button => button.blur());\r\n\r\n    dialog.addEventListener(\"close\", () => {\r\n        dialog.remove();\r\n    });\r\n}\r\n\r\nexport function show(dialog, title, buttons, blur) {\r\n    const titleElement = new Element(\"h2\", title).element;\r\n    const buttonContainer = document.createElement(\"div\");\r\n    buttons.forEach(button => {\r\n        buttonContainer.append(\r\n            new Element(\"button\", button.text, () => {\r\n                button.close && dialog.close();\r\n                button.callback && button.callback();\r\n            }).element\r\n        );\r\n    });\r\n\r\n    dialog.open && dialog.close();\r\n\r\n    dialog.prepend(titleElement);\r\n    dialog.append(buttonContainer);\r\n\r\n    dialog.showModal();\r\n\r\n    blur && buttonContainer.querySelectorAll(\"button\").forEach(button => button.blur());\r\n\r\n    dialog.addEventListener(\"close\", () => {\r\n        titleElement.remove();\r\n        buttonContainer.remove();\r\n    });\r\n}\r\n\r\nexport class ModalButton {\r\n    constructor(text, close, callback) {\r\n        this.text = text;\r\n        this.close = close;\r\n        this.callback = callback;\r\n    }\r\n}\r\n\r\nexport class Element {\r\n    constructor(tag, text, onclick) {\r\n        this.tag = tag;\r\n        this.text = text;\r\n        this.onclick = onclick;\r\n    }\r\n\r\n    get element() {\r\n        const element = document.createElement(this.tag);\r\n        element.textContent = this.text;\r\n        this.onclick && element.addEventListener(\"click\", this.onclick);\r\n        return element;\r\n    }\r\n}\r\n\r\nexport function createList(ordered, items) {\r\n    const list = document.createElement(ordered ? \"ol\" : \"ul\");\r\n    items.forEach(item => {\r\n        list.append(new Element(\"li\", item).element);\r\n    });\r\n    return list.outerHTML;\r\n}","{\r\n    \"pm\": \"±\",\r\n    \"sqrt\": \"√\",\r\n    \"inf\": \"∞\",\r\n    \"pi\": \"π\",\r\n    \"sum\": \"Σ\",\r\n    \"theta\": \"θ\",\r\n    \"cbrt\": \"∛\",\r\n    \"fourthrt\": \"∜\",\r\n    \"int\": \"∫\",\r\n    \"rightarrow\": \"→\",\r\n    \"or\": \"∨\",\r\n    \"and\": \"∧\",\r\n    \"subset\": \"⊂\",\r\n    \"subseteq\": \"⊆\",\r\n    \"neq\": \"≠\",\r\n    \"in\": \"∈\",\r\n    \"all\": \"∀\",\r\n    \"some\": \"∃\",\r\n    \"del\": \"∇\",\r\n    \"delta\": \"∆\",\r\n    \"angle\": \"∢\",\r\n    \"parallel\": \"∥\",\r\n    \"perpendicular\": \"⟂\",\r\n    \"intersect\": \"∩\",\r\n    \"union\": \"∪\",\r\n    \"therefore\": \"∴\",\r\n    \"composed\": \"∘\",\r\n    \"degrees\": \"°\",\r\n    \"infinity\": \"∞\",\r\n    \"radical\": \"√\",\r\n    \"root\": \"√\"\r\n}","import * as ui from \"./ui.js\";\r\nimport { Storage } from \"./storage.js\";\r\nimport { Autocomplete } from \"./autocomplete.js\";\r\n\r\nconst storage = new Storage(\"virtual-clicker-2\");\r\n\r\n// Version\r\n\r\nconst VERSION = \"2.0\";\r\ndocument.querySelectorAll(\"span.version\").forEach(element => {\r\n    element.innerHTML = VERSION;\r\n});\r\n\r\n// Modals\r\n\r\nconst modals = {\r\n    \"symbols\": () => {\r\n        ui.show(document.getElementById(\"symbols-modal\"), \"Symbols\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n    \"code\": () => {\r\n        document.getElementById(\"code-input\").value = storage.get(\"code\") || \"\";\r\n        ui.show(document.getElementById(\"code-modal\"), \"Seat Code\", [\r\n            new ui.ModalButton(\"Cancel\", true),\r\n            new ui.ModalButton(\"Save\", false, saveCode),\r\n        ]);\r\n    },\r\n    \"code-help\": () => {\r\n        ui.show(document.getElementById(\"code-help-modal\"), \"Seat Code\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n    \"settings\": () => {\r\n        ui.show(document.getElementById(\"settings-modal\"), \"Settings\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n    \"theme\": () => {\r\n        ui.show(document.getElementById(\"theme-modal\"), \"Theme\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n    \"storage\": () => {\r\n        ui.show(document.getElementById(\"storage-modal\"), \"Storage\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n    \"history\": () => {\r\n        ui.show(document.getElementById(\"history-modal\"), \"History\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n}\r\n\r\ndocument.querySelectorAll(\"[data-show-modal]\").forEach(button => {\r\n    button.addEventListener(\"click\", e => {\r\n        modals[e.target.getAttribute(\"data-show-modal\")]();\r\n    });\r\n});\r\n\r\n// Seat code\r\n\r\nif (!storage.get(\"code\")) {\r\n    modals[\"code\"]();\r\n}\r\nelse {\r\n    updateCode();\r\n}\r\n\r\ndocument.getElementById(\"code-input\").addEventListener(\"input\", e => {\r\n    e.target.value = parseInt(e.target.value) || \"\";\r\n});\r\n\r\ndocument.getElementById(\"code-input\").addEventListener(\"keydown\", e => {\r\n    if (e.key == \"Enter\") {\r\n        e.preventDefault();\r\n        saveCode();\r\n    }\r\n});\r\n\r\nfunction saveCode() {\r\n    const input = document.getElementById(\"code-input\").value;\r\n    const regex = /^[1-9][1-6][1-5]$/;\r\n    if (regex.test(input)) {\r\n        storage.set(\"code\", input);\r\n        updateCode();\r\n        document.getElementById(\"code-modal\").close();\r\n    }\r\n    else {\r\n        ui.alert(\"Error\", \"Seat code isn't possible\");\r\n    }\r\n}\r\n\r\nfunction updateCode() {\r\n    if (storage.get(\"code\")) {\r\n        document.querySelectorAll(\"span.code\").forEach(element => {\r\n            element.innerHTML = storage.get(\"code\");\r\n        });\r\n        document.title = `Virtual Clicker (${storage.get(\"code\")})`;\r\n    }\r\n}\r\n\r\nfor (let col = 1; col <= 5; col++) {\r\n    for (let row = 6; row > 0; row--) {\r\n        document.getElementById(\"seat-grid\").append(\r\n            new ui.Element(\"button\", \"\", () => {\r\n                const period = document.getElementById(\"period-input\").value;\r\n                const code = period + row.toString() + col.toString();\r\n                document.getElementById(\"code-input\").value = code;\r\n                document.getElementById(\"code-help-modal\").close();\r\n            }).element\r\n        );\r\n    }\r\n}\r\n\r\n// Clicker\r\n\r\nconst questionInput = document.getElementById(\"question-input\");\r\nconst answerInput = document.getElementById(\"answer-input\");\r\n\r\nquestionInput.focus();\r\n\r\ndocument.getElementById(\"submit-button\").addEventListener(\"click\", e => {\r\n    const question = questionInput.value?.trim();\r\n    const answer = answerInput.value?.trim();\r\n    console.log(question, answer);\r\n    if (storage.get(\"code\")) {\r\n        if (question && answer) {\r\n            submitClick(storage.get(\"code\"), question, answer);\r\n            resetInputs();\r\n        }\r\n        if (!question) {\r\n            questionInput.classList.add(\"attention\");\r\n            questionInput.focus();\r\n        }\r\n        if (!answer) {\r\n            answerInput.classList.add(\"attention\");\r\n        }\r\n    }\r\n    else {\r\n        modals[\"code\"]();\r\n    }\r\n});\r\n\r\nquestionInput.addEventListener(\"input\", e => {\r\n    e.target.classList.remove(\"attention\");\r\n});\r\n\r\nanswerInput.addEventListener(\"input\", e => {\r\n    e.target.classList.remove(\"attention\");\r\n});\r\n\r\nfunction submitClick(code, question, answer) {\r\n    const fields = {\r\n        \"entry.1896388126\": code,\r\n        \"entry.1232458460\": question,\r\n        \"entry.1065046570\": answer\r\n    }\r\n    const params = new URLSearchParams(fields).toString();\r\n    const url = \"https://docs.google.com/forms/d/e/1FAIpQLSfwDCxVqO2GuB4jhk9iAl7lzoA2TsRlX6hz052XkEHbLrbryg/formResponse?\";\r\n    fetch(url + params, {\r\n        method: \"POST\",\r\n        mode: \"no-cors\",\r\n        headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n        }\r\n    });\r\n    storeClick(code, question, answer);\r\n}\r\n\r\nfunction resetInputs() {\r\n    questionInput.value = \"\";\r\n    answerInput.value = \"\";\r\n    questionInput.focus();\r\n}\r\n\r\n// Multiple choice\r\n\r\nconst descriptions = {\r\n    \"a\": [\"Agree\", \"True\", \"Yes\"],\r\n    \"b\": [\"Disagree\", \"False\", \"No\"],\r\n    \"c\": [\"Both\", \"Always\"],\r\n    \"d\": [\"Neither\", \"Never\"],\r\n    \"e\": [\"Sometimes\", \"Cannot be determined\"],\r\n}\r\n\r\ndocument.querySelectorAll(\"[data-multiple-choice]\").forEach(button => {\r\n    button.addEventListener(\"click\", e => {\r\n        const question = questionInput.value?.trim();\r\n        const choice = e.target.getAttribute(\"data-multiple-choice\");\r\n        const body = `<p>Are you sure? This is the same as</p>\\n${ui.createList(false, descriptions[choice])}`;\r\n        if (storage.get(\"code\")) {\r\n            if (question) {\r\n                ui.modal(`Submit choice ${choice.toUpperCase()}`, body, [\r\n                    new ui.ModalButton(\"Cancel\", true),\r\n                    new ui.ModalButton(\"Submit\", true, () => {\r\n                        submitClick(storage.get(\"code\"), question, `CHOICE ${choice.toUpperCase()}`);\r\n                        questionInput.focus();\r\n                    }),\r\n                ]);\r\n            }\r\n            if (!question) {\r\n                answerInput.classList.remove(\"attention\");\r\n                questionInput.classList.add(\"attention\");\r\n                questionInput.focus();\r\n            }\r\n        }\r\n        else {\r\n            modals[\"code\"]();\r\n        }\r\n    });\r\n});\r\n\r\n// History\r\n\r\nupdateHistory();\r\n\r\nfunction storeClick(code, question, answer) {\r\n    const history = storage.get(\"history\") || [];\r\n    const timestamp = Date.now();\r\n    history.push({\r\n        \"code\": code,\r\n        \"question\": question,\r\n        \"answer\": answer,\r\n        \"timestamp\": timestamp,\r\n    });\r\n    storage.set(\"history\", history);\r\n    updateHistory();\r\n}\r\n\r\nfunction updateHistory() {\r\n    const history = storage.get(\"history\") || [];\r\n    const feed = document.getElementById(\"history-feed\");\r\n    if (history.length != 0) {\r\n        feed.innerHTML = \"\";\r\n        history.forEach(item => {\r\n            const button = document.createElement(\"button\");\r\n            button.innerHTML = `<p><b>${item.question}.</b> ${timeToString(item.timestamp)} (${item.code})</p>\\n<p>${item.answer}</p>`;\r\n            feed.prepend(button);\r\n            button.addEventListener(\"click\", e => {\r\n                questionInput.value = item.question;\r\n                answerInput.value = item.answer;\r\n                answerInput.dispatchEvent(new Event(\"input\"));\r\n                document.getElementById(\"history-modal\").close();\r\n                questionInput.focus();\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        feed.innerHTML = \"<p>Submitted clicks will show up here!</p>\";\r\n    }\r\n}\r\n\r\nfunction timeToString(timestamp) {\r\n    let date = new Date(timestamp);\r\n    if (timestamp) {\r\n        let month = date.getMonth() + 1;\r\n        let day = date.getDate();\r\n        let hours = date.getHours();\r\n        let minutes = date.getMinutes().toString().padStart(2, \"0\");\r\n        let period;\r\n        if (hours >= 12) {\r\n            hours %= 12;\r\n            period = \"PM\";\r\n        }\r\n        else {\r\n            period = \"AM\";\r\n        }\r\n        if (hours == 0) {\r\n            hours = 12;\r\n        }\r\n        return `${month}/${day} ${hours}:${minutes} ${period}`;\r\n    }\r\n}\r\n\r\n// Symbols\r\n\r\nnew Autocomplete(answerInput, answerInput.nextElementSibling);\r\n\r\nconst symbols = require(\"./symbols.json\");\r\nconst uniqueSymbols = [...new Set(Object.values(symbols))];\r\n\r\ndocument.querySelectorAll(\"[data-insert-symbol]\").forEach(button => {\r\n    const index = button.getAttribute(\"data-insert-symbol\");\r\n    const symbol = Object.values(symbols)[index];\r\n    button.innerHTML = symbol;\r\n    button.addEventListener(\"click\", e => {\r\n        insertSymbol(symbol);\r\n    });\r\n});\r\n\r\nuniqueSymbols.forEach(symbol => {\r\n    document.querySelector(\"#symbols-modal>div\").append(\r\n        new ui.Element(\"button\", symbol, () => {\r\n            document.getElementById(\"symbols-modal\").close();\r\n            insertSymbol(symbol);\r\n        }).element\r\n    )\r\n});\r\n\r\nfunction insertSymbol(symbol) {\r\n    answerInput.setRangeText(symbol, answerInput.selectionStart, answerInput.selectionEnd, \"end\");\r\n    answerInput.dispatchEvent(new Event(\"input\"));\r\n    answerInput.focus();\r\n}\r\n\r\n// Themes\r\n\r\nconst themes = [\r\n    \"classic\",\r\n    \"abyss\",\r\n    \"graphite\",\r\n    \"blizzard\",\r\n    \"sage\",\r\n    \"dune\",\r\n    \"rose\",\r\n    \"lavender\",\r\n]\r\n\r\ndocument.body.setAttribute(\"data-theme\", storage.get(\"theme\") || \"\");\r\n\r\nthemes.forEach(theme => {\r\n    const button = document.createElement(\"button\");\r\n    button.setAttribute(\"data-theme\", theme);\r\n    button.innerHTML = theme;\r\n    button.addEventListener(\"click\", e => {\r\n        document.body.setAttribute(\"data-theme\", theme);\r\n        storage.set(\"theme\", theme);\r\n    });\r\n    document.querySelector(\"#theme-modal>div\").append(button);\r\n});\r\n\r\n// Storage\r\n\r\nconst resets = {\r\n    \"theme\": () => {\r\n        document.body.removeAttribute(\"data-theme\");\r\n        storage.delete(\"theme\");\r\n    },\r\n    \"history\": () => {\r\n        ui.prompt(\"Are you sure?\", \"Click history will be lost forever! (A long time!)\", [\r\n            new ui.ModalButton(\"Cancel\", true),\r\n            new ui.ModalButton(\"Clear\", true, () => {\r\n                storage.delete(\"history\");\r\n            }),\r\n        ]);\r\n    },\r\n    \"all\": () => {\r\n        ui.prompt(\"Are you sure?\", \"All saved data will be erased, this cannot be reversed\", [\r\n            new ui.ModalButton(\"Cancel\", true),\r\n            new ui.ModalButton(\"Reset\", true, () => {\r\n                storage.obliterate();\r\n            }),\r\n        ]);\r\n    },\r\n}\r\n\r\ndocument.querySelectorAll(\"[data-reset]\").forEach(button => {\r\n    button.addEventListener(\"click\", e => {\r\n        resets[e.target.getAttribute(\"data-reset\")]();\r\n    });\r\n});\r\n\r\n// Keyboard shortcuts\r\n\r\ndocument.addEventListener(\"keydown\", e => {\r\n    const anyDialogOpen = Array.from(document.querySelectorAll(\"dialog\")).some(dialog => dialog.open);\r\n    if (e.ctrlKey) {\r\n        if (e.key == \"Enter\" && !anyDialogOpen) {\r\n            document.getElementById(\"submit-button\").click();\r\n        }\r\n        if (e.key == \",\" && !anyDialogOpen) {\r\n            modals[\"settings\"]();\r\n        }\r\n        if (e.key == \".\" && !anyDialogOpen) {\r\n            modals[\"history\"]();\r\n        }\r\n    }\r\n    else if (e.altKey) {\r\n        if (/[1-9]/.test(e.key)) {\r\n            e.preventDefault();\r\n            insertSymbol(uniqueSymbols[parseInt(e.key) - 1]);\r\n        }\r\n    }\r\n});","export class Storage {\r\n    constructor(id) {\r\n        this.id = id;\r\n    }\r\n\r\n    set(key, value) {\r\n        let temp = this.object;\r\n        temp[key] = value;\r\n        localStorage.setItem(this.id, JSON.stringify(temp));\r\n        return this;\r\n    }\r\n\r\n    get(key) {\r\n        return this.object[key];\r\n    }\r\n\r\n    delete(key) {\r\n        let temp = this.object;\r\n        delete temp[key];\r\n        localStorage.setItem(this.id, JSON.stringify(temp));\r\n        return this;\r\n    }\r\n\r\n    obliterate() {\r\n        localStorage.removeItem(this.id);\r\n    }\r\n\r\n    get object() {\r\n        return JSON.parse(localStorage.getItem(this.id)) || {};\r\n    }\r\n}","const symbols = require(\"./symbols.json\");\r\n\r\nexport class Autocomplete {\r\n    #start = 0;\r\n    #end = 0;\r\n    #query = \"\"\r\n\r\n    constructor(input, result) {\r\n        this.input = input;\r\n        this.result = result;\r\n\r\n        this.input.addEventListener(\"keydown\", e => {\r\n            if (e.key == \"Tab\" && this.matches.length != 0) {\r\n                e.preventDefault();\r\n                e.target.setRangeText(symbols[this.matches[0]], this.#start, this.#end, \"end\");\r\n                this.#start = e.target.selectionEnd;\r\n                this.#query = e.target.value.substring(this.#start, this.#end + 1);\r\n            }\r\n            if (e.key == \"Escape\") {\r\n                this.#start = e.target.selectionEnd;\r\n                this.#query = e.target.value.substring(this.#start, this.#end + 1);\r\n            }\r\n            if (this.#start > this.#end) {\r\n                this.#start = this.#end;\r\n            }\r\n            this.#updateResult();\r\n        });\r\n\r\n        this.input.addEventListener(\"input\", e => {\r\n            this.#end = e.target.selectionEnd;\r\n            this.#query = e.target.value.substring(this.#start, this.#end + 1);\r\n            this.#updateResult();\r\n            // console.log(this.#start, this.#end, this.#query, e.target.selectionEnd, this.matches);\r\n        });\r\n    }\r\n\r\n    get matches() {\r\n        if (this.#query?.trim()) {\r\n            return Object.keys(symbols).filter(string => string.startsWith(this.#query));\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    #updateResult() {\r\n        if (this.matches.length != 0) {\r\n            this.result.innerHTML = `Press tab to insert ${symbols[this.matches[0]]} or press escape to cancel`;\r\n        }\r\n        else {\r\n            this.result.innerHTML = \"\";\r\n        }\r\n    }\r\n}"],"names":["$84923368ea4a1ab4$export$195ba6d62321b933","title","body","buttons","blur","$84923368ea4a1ab4$export$96e4b36520c26a2c","$84923368ea4a1ab4$export$db77ccec0bb4ccac","element","outerHTML","dialog","document","createElement","buttonContainer","forEach","button","append","text","close","callback","innerHTML","showModal","querySelectorAll","addEventListener","remove","$84923368ea4a1ab4$export$57bf213be019eeb0","titleElement","open","prepend","$84923368ea4a1ab4$export$1d81a0b79d181512","constructor","this","tag","onclick","textContent","$7471686747bdb57e$exports","JSON","parse","$35da740d59af89ba$var$storage","id","set","key","value","temp","object","localStorage","setItem","stringify","get","delete","obliterate","removeItem","getItem","$35da740d59af89ba$var$modals","symbols","getElementById","code","$35da740d59af89ba$var$saveCode","settings","theme","storage","history","input","test","$35da740d59af89ba$var$updateCode","e","target","getAttribute","parseInt","preventDefault","col","row","toString","$35da740d59af89ba$var$questionInput","$35da740d59af89ba$var$answerInput","$35da740d59af89ba$var$submitClick","question","answer","params","URLSearchParams","fetch","method","mode","headers","timestamp","Date","now","push","$35da740d59af89ba$var$updateHistory","$35da740d59af89ba$var$storeClick","focus","trim","console","log","classList","add","$35da740d59af89ba$var$descriptions","a","b","c","d","feed","length","item","date","period","month","getMonth","day","getDate","hours","getHours","getMinutes","padStart","$35da740d59af89ba$var$timeToString","dispatchEvent","Event","choice","ordered","items","list","$84923368ea4a1ab4$export$5897d8d7c7a3d871","toUpperCase","start","end","query","result","matches","setRangeText","selectionEnd","substring","updateResult","Object","keys","filter","string","startsWith","nextElementSibling","$35da740d59af89ba$var$uniqueSymbols","Set","values","$35da740d59af89ba$var$insertSymbol","symbol","selectionStart","index","querySelector","setAttribute","$35da740d59af89ba$var$resets","removeAttribute","all","anyDialogOpen","Array","from","some","ctrlKey","click","altKey"],"version":3,"file":"index.c242f496.js.map"}