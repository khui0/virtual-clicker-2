{"mappings":"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","sources":["src/ui.js","src/symbols.json","src/index.js","src/storage.js","src/autocomplete.js"],"sourcesContent":["export function alert(title, body, callback, blur) {\r\n    modal(title, new Element(\"p\", body).element.outerHTML, [\r\n        new ModalButton(\"Okay\", true, callback)\r\n    ], blur);\r\n}\r\n\r\nexport function prompt(title, body, buttons, blur) {\r\n    modal(title, new Element(\"p\", body).element.outerHTML, buttons, blur);\r\n}\r\n\r\nexport function modal(title, body, buttons, blur) {\r\n    const dialog = document.createElement(\"dialog\");\r\n    const buttonContainer = document.createElement(\"div\");\r\n    buttons.forEach(button => {\r\n        buttonContainer.append(\r\n            new Element(\"button\", button.text, () => {\r\n                button.close && dialog.close();\r\n                button.callback && button.callback();\r\n            }).element\r\n        );\r\n    });\r\n\r\n    dialog.append(new Element(\"h2\", title).element);\r\n    dialog.innerHTML += body;\r\n    dialog.append(buttonContainer);\r\n\r\n    document.body.append(dialog);\r\n    dialog.showModal();\r\n\r\n    blur && buttonContainer.querySelectorAll(\"button\").forEach(button => button.blur());\r\n\r\n    dialog.addEventListener(\"close\", () => {\r\n        dialog.remove();\r\n    });\r\n}\r\n\r\nexport function show(dialog, title, buttons, blur) {\r\n    const titleElement = new Element(\"h2\", title).element;\r\n    const buttonContainer = document.createElement(\"div\");\r\n    buttons.forEach(button => {\r\n        buttonContainer.append(\r\n            new Element(\"button\", button.text, () => {\r\n                button.close && dialog.close();\r\n                button.callback && button.callback();\r\n            }).element\r\n        );\r\n    });\r\n\r\n    dialog.open && dialog.close();\r\n\r\n    dialog.prepend(titleElement);\r\n    dialog.append(buttonContainer);\r\n\r\n    dialog.showModal();\r\n\r\n    blur && buttonContainer.querySelectorAll(\"button\").forEach(button => button.blur());\r\n\r\n    dialog.addEventListener(\"close\", () => {\r\n        titleElement.remove();\r\n        buttonContainer.remove();\r\n    });\r\n}\r\n\r\nexport class ModalButton {\r\n    constructor(text, close, callback) {\r\n        this.text = text;\r\n        this.close = close;\r\n        this.callback = callback;\r\n    }\r\n}\r\n\r\nexport class Element {\r\n    constructor(tag, text, onclick) {\r\n        this.tag = tag;\r\n        this.text = text;\r\n        this.onclick = onclick;\r\n    }\r\n\r\n    get element() {\r\n        const element = document.createElement(this.tag);\r\n        element.textContent = this.text;\r\n        this.onclick && element.addEventListener(\"click\", this.onclick);\r\n        return element;\r\n    }\r\n}\r\n\r\nexport function createList(ordered, items) {\r\n    const list = document.createElement(ordered ? \"ol\" : \"ul\");\r\n    items.forEach(item => {\r\n        list.append(new Element(\"li\", item).element);\r\n    });\r\n    return list.outerHTML;\r\n}","{\r\n    \"pm\": \"±\",\r\n    \"sqrt\": \"√\",\r\n    \"inf\": \"∞\",\r\n    \"pi\": \"π\",\r\n    \"sum\": \"Σ\",\r\n    \"theta\": \"θ\",\r\n    \"cbrt\": \"∛\",\r\n    \"fourthrt\": \"∜\",\r\n    \"int\": \"∫\",\r\n    \"rightarrow\": \"→\",\r\n    \"or\": \"∨\",\r\n    \"and\": \"∧\",\r\n    \"subset\": \"⊂\",\r\n    \"subseteq\": \"⊆\",\r\n    \"neq\": \"≠\",\r\n    \"in\": \"∈\",\r\n    \"all\": \"∀\",\r\n    \"some\": \"∃\",\r\n    \"del\": \"∇\",\r\n    \"delta\": \"∆\",\r\n    \"angle\": \"∢\",\r\n    \"parallel\": \"∥\",\r\n    \"perpendicular\": \"⟂\",\r\n    \"intersect\": \"∩\",\r\n    \"union\": \"∪\",\r\n    \"therefore\": \"∴\",\r\n    \"composed\": \"∘\",\r\n    \"degrees\": \"°\",\r\n    \"infinity\": \"∞\",\r\n    \"radical\": \"√\",\r\n    \"root\": \"√\"\r\n}","import * as ui from \"./ui.js\";\r\nimport { Storage } from \"./storage.js\";\r\nimport { Autocomplete } from \"./autocomplete.js\";\r\n\r\nconst storage = new Storage(\"virtual-clicker-2\");\r\n\r\n// Version\r\n\r\nconst VERSION = \"2.1.1\";\r\ndocument.querySelectorAll(\"span.version\").forEach(element => {\r\n    element.innerHTML = VERSION;\r\n});\r\n\r\n// Modals\r\n\r\nconst modals = {\r\n    \"symbols\": () => {\r\n        ui.show(document.getElementById(\"symbols-modal\"), \"Symbols\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n    \"code\": () => {\r\n        document.getElementById(\"code-input\").value = storage.get(\"code\") || \"\";\r\n        ui.show(document.getElementById(\"code-modal\"), \"Seat Code\", [\r\n            new ui.ModalButton(\"Cancel\", true),\r\n            new ui.ModalButton(\"Save\", false, saveCode),\r\n        ]);\r\n    },\r\n    \"code-help\": () => {\r\n        ui.show(document.getElementById(\"code-help-modal\"), \"Seat Code\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n    \"settings\": () => {\r\n        ui.show(document.getElementById(\"settings-modal\"), \"Settings\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n    \"theme\": () => {\r\n        ui.show(document.getElementById(\"theme-modal\"), \"Theme\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n    \"storage\": () => {\r\n        ui.show(document.getElementById(\"storage-modal\"), \"Storage\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n    \"history\": () => {\r\n        ui.show(document.getElementById(\"history-modal\"), \"History\", [\r\n            new ui.ModalButton(\"Close\", true)\r\n        ]);\r\n    },\r\n}\r\n\r\ndocument.querySelectorAll(\"[data-show-modal]\").forEach(button => {\r\n    button.addEventListener(\"click\", e => {\r\n        modals[e.target.getAttribute(\"data-show-modal\")]();\r\n    });\r\n});\r\n\r\n// Seat code\r\n\r\nif (!storage.get(\"code\")) {\r\n    modals[\"code\"]();\r\n}\r\nelse {\r\n    updateCode();\r\n}\r\n\r\ndocument.getElementById(\"code-input\").addEventListener(\"input\", e => {\r\n    e.target.value = parseInt(e.target.value) || \"\";\r\n});\r\n\r\ndocument.getElementById(\"code-input\").addEventListener(\"keydown\", e => {\r\n    if (e.key == \"Enter\") {\r\n        e.preventDefault();\r\n        saveCode();\r\n    }\r\n});\r\n\r\nfunction saveCode() {\r\n    const input = document.getElementById(\"code-input\").value;\r\n    const regex = /^[1-9][1-6][1-5]$/;\r\n    if (regex.test(input)) {\r\n        storage.set(\"code\", input);\r\n        updateCode();\r\n        document.getElementById(\"code-modal\").close();\r\n    }\r\n    else {\r\n        ui.alert(\"Error\", \"Seat code isn't possible\");\r\n    }\r\n}\r\n\r\nfunction updateCode() {\r\n    if (storage.get(\"code\")) {\r\n        document.querySelectorAll(\"span.code\").forEach(element => {\r\n            element.innerHTML = storage.get(\"code\");\r\n        });\r\n        document.title = `Virtual Clicker (${storage.get(\"code\")})`;\r\n    }\r\n}\r\n\r\nfor (let col = 1; col <= 5; col++) {\r\n    for (let row = 6; row > 0; row--) {\r\n        document.getElementById(\"seat-grid\").append(\r\n            new ui.Element(\"button\", \"\", () => {\r\n                const period = document.getElementById(\"period-input\").value;\r\n                const code = period + row.toString() + col.toString();\r\n                document.getElementById(\"code-input\").value = code;\r\n                document.getElementById(\"code-help-modal\").close();\r\n            }).element\r\n        );\r\n    }\r\n}\r\n\r\n// Clicker\r\n\r\nconst questionInput = document.getElementById(\"question-input\");\r\nconst answerInput = document.getElementById(\"answer-input\");\r\n\r\nconst autocomplete = new Autocomplete(answerInput, document.getElementById(\"answer-suggestion\"));\r\n\r\nquestionInput.focus();\r\n\r\ndocument.getElementById(\"submit-button\").addEventListener(\"click\", e => {\r\n    const question = questionInput.value?.trim();\r\n    const answer = answerInput.value?.trim();\r\n    if (storage.get(\"code\")) {\r\n        if (question && answer) {\r\n            submitClick(storage.get(\"code\"), question, answer);\r\n            resetInputs();\r\n        }\r\n        if (!answer) {\r\n            answerInput.classList.add(\"attention\");\r\n            answerInput.focus();\r\n        }\r\n        if (!question) {\r\n            questionInput.classList.add(\"attention\");\r\n            questionInput.focus();\r\n        }\r\n    }\r\n    else {\r\n        modals[\"code\"]();\r\n    }\r\n});\r\n\r\nquestionInput.addEventListener(\"input\", e => {\r\n    e.target.classList.remove(\"attention\");\r\n});\r\n\r\nanswerInput.addEventListener(\"input\", e => {\r\n    e.target.classList.remove(\"attention\");\r\n});\r\n\r\nfunction submitClick(code, question, answer) {\r\n    const fields = {\r\n        \"entry.1896388126\": code,\r\n        \"entry.1232458460\": question,\r\n        \"entry.1065046570\": answer\r\n    }\r\n    const params = new URLSearchParams(fields).toString();\r\n    const url = \"https://docs.google.com/forms/d/e/1FAIpQLSfwDCxVqO2GuB4jhk9iAl7lzoA2TsRlX6hz052XkEHbLrbryg/formResponse?\";\r\n    fetch(url + params, {\r\n        method: \"POST\",\r\n        mode: \"no-cors\",\r\n        headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n        }\r\n    });\r\n    storeClick(code, question, answer);\r\n}\r\n\r\nfunction resetInputs() {\r\n    questionInput.value = \"\";\r\n    answerInput.value = \"\";\r\n    questionInput.focus();\r\n    autocomplete.update();\r\n}\r\n\r\n// Multiple choice\r\n\r\nconst descriptions = {\r\n    \"a\": [\"Agree\", \"True\", \"Yes\"],\r\n    \"b\": [\"Disagree\", \"False\", \"No\"],\r\n    \"c\": [\"Both\", \"Always\"],\r\n    \"d\": [\"Neither\", \"Never\"],\r\n    \"e\": [\"Sometimes\", \"Cannot be determined\"],\r\n}\r\n\r\ndocument.querySelectorAll(\"[data-multiple-choice]\").forEach(button => {\r\n    button.addEventListener(\"click\", e => {\r\n        const question = questionInput.value?.trim();\r\n        const choice = e.target.getAttribute(\"data-multiple-choice\");\r\n        const body = `<p>Are you sure? This is the same as</p>\\n${ui.createList(false, descriptions[choice])}`;\r\n        if (storage.get(\"code\")) {\r\n            if (question) {\r\n                ui.modal(`Submit choice ${choice.toUpperCase()}`, body, [\r\n                    new ui.ModalButton(\"Cancel\", true),\r\n                    new ui.ModalButton(\"Submit\", true, () => {\r\n                        submitClick(storage.get(\"code\"), question, `CHOICE ${choice.toUpperCase()}`);\r\n                        questionInput.focus();\r\n                    }),\r\n                ]);\r\n            }\r\n            if (!question) {\r\n                answerInput.classList.remove(\"attention\");\r\n                questionInput.classList.add(\"attention\");\r\n                questionInput.focus();\r\n            }\r\n        }\r\n        else {\r\n            modals[\"code\"]();\r\n        }\r\n    });\r\n});\r\n\r\n// History\r\n\r\nupdateHistory();\r\n\r\nfunction storeClick(code, question, answer) {\r\n    const history = storage.get(\"history\") || [];\r\n    const timestamp = Date.now();\r\n    history.push({\r\n        \"code\": code,\r\n        \"question\": question,\r\n        \"answer\": answer,\r\n        \"timestamp\": timestamp,\r\n    });\r\n    storage.set(\"history\", history);\r\n    updateHistory();\r\n}\r\n\r\nfunction updateHistory() {\r\n    const history = storage.get(\"history\") || [];\r\n    const feed = document.getElementById(\"history-feed\");\r\n    if (history.length != 0) {\r\n        feed.innerHTML = \"\";\r\n        history.forEach(item => {\r\n            const button = document.createElement(\"button\");\r\n            button.innerHTML = `<p><b>${item.question}.</b> ${timeToString(item.timestamp)} (${item.code})</p>\\n<p>${item.answer}</p>`;\r\n            feed.prepend(button);\r\n            button.addEventListener(\"click\", e => {\r\n                questionInput.value = item.question;\r\n                answerInput.value = item.answer;\r\n                document.getElementById(\"history-modal\").close();\r\n                questionInput.focus();\r\n                autocomplete.update();\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        feed.innerHTML = \"<p>Submitted clicks will show up here!</p>\";\r\n    }\r\n}\r\n\r\nfunction timeToString(timestamp) {\r\n    let date = new Date(timestamp);\r\n    if (timestamp) {\r\n        let month = date.getMonth() + 1;\r\n        let day = date.getDate();\r\n        let hours = date.getHours();\r\n        let minutes = date.getMinutes().toString().padStart(2, \"0\");\r\n        let period;\r\n        if (hours >= 12) {\r\n            hours %= 12;\r\n            period = \"PM\";\r\n        }\r\n        else {\r\n            period = \"AM\";\r\n        }\r\n        if (hours == 0) {\r\n            hours = 12;\r\n        }\r\n        return `${month}/${day} ${hours}:${minutes} ${period}`;\r\n    }\r\n}\r\n\r\n// Symbols\r\n\r\nconst symbols = require(\"./symbols.json\");\r\nconst uniqueSymbols = [...new Set(Object.values(symbols))];\r\n\r\ndocument.querySelectorAll(\"[data-insert-symbol]\").forEach(button => {\r\n    const index = button.getAttribute(\"data-insert-symbol\");\r\n    const symbol = Object.values(symbols)[index];\r\n    button.innerHTML = symbol;\r\n    button.addEventListener(\"click\", e => {\r\n        insertSymbol(symbol);\r\n    });\r\n});\r\n\r\nuniqueSymbols.forEach(symbol => {\r\n    document.querySelector(\"#symbols-modal>div\").append(\r\n        new ui.Element(\"button\", symbol, () => {\r\n            document.getElementById(\"symbols-modal\").close();\r\n            insertSymbol(symbol);\r\n        }).element\r\n    )\r\n});\r\n\r\nfunction insertSymbol(symbol) {\r\n    answerInput.setRangeText(symbol, answerInput.selectionStart, answerInput.selectionEnd, \"end\");\r\n    answerInput.focus();\r\n    autocomplete.update();\r\n}\r\n\r\n// Themes\r\n\r\nconst themes = [\r\n    \"classic\",\r\n    \"abyss\",\r\n    \"graphite\",\r\n    \"blizzard\",\r\n    \"sage\",\r\n    \"dune\",\r\n    \"rose\",\r\n    \"lavender\",\r\n    \"wit\",\r\n    \"loyalty\",\r\n    \"cunning\",\r\n    \"bravery\",\r\n]\r\n\r\ndocument.body.setAttribute(\"data-theme\", storage.get(\"theme\") || \"\");\r\n\r\nthemes.forEach(theme => {\r\n    const button = document.createElement(\"button\");\r\n    button.setAttribute(\"data-theme\", theme);\r\n    button.innerHTML = theme;\r\n    button.addEventListener(\"click\", e => {\r\n        document.body.setAttribute(\"data-theme\", theme);\r\n        storage.set(\"theme\", theme);\r\n    });\r\n    document.querySelector(\"#theme-modal>div\").append(button);\r\n});\r\n\r\n// Storage\r\n\r\nconst resets = {\r\n    \"theme\": () => {\r\n        document.body.removeAttribute(\"data-theme\");\r\n        storage.delete(\"theme\");\r\n    },\r\n    \"history\": () => {\r\n        ui.prompt(\"Are you sure?\", \"Click history will be lost forever! (A long time!)\", [\r\n            new ui.ModalButton(\"Cancel\", true),\r\n            new ui.ModalButton(\"Clear\", true, () => {\r\n                storage.delete(\"history\");\r\n            }),\r\n        ]);\r\n    },\r\n    \"all\": () => {\r\n        ui.prompt(\"Are you sure?\", \"All saved data will be erased, this cannot be reversed\", [\r\n            new ui.ModalButton(\"Cancel\", true),\r\n            new ui.ModalButton(\"Reset\", true, () => {\r\n                storage.obliterate();\r\n            }),\r\n        ]);\r\n    },\r\n}\r\n\r\ndocument.querySelectorAll(\"[data-reset]\").forEach(button => {\r\n    button.addEventListener(\"click\", e => {\r\n        resets[e.target.getAttribute(\"data-reset\")]();\r\n    });\r\n});\r\n\r\n// Keyboard shortcuts\r\n\r\ndocument.addEventListener(\"keydown\", e => {\r\n    const anyDialogOpen = Array.from(document.querySelectorAll(\"dialog\")).some(dialog => dialog.open);\r\n    if (e.ctrlKey) {\r\n        if (e.key == \"Enter\" && !anyDialogOpen) {\r\n            document.getElementById(\"submit-button\").click();\r\n        }\r\n        if (e.key == \",\" && !anyDialogOpen) {\r\n            modals[\"settings\"]();\r\n        }\r\n        if (e.key == \".\" && !anyDialogOpen) {\r\n            modals[\"history\"]();\r\n        }\r\n    }\r\n    else if (e.altKey) {\r\n        if (/[1-9]/.test(e.key)) {\r\n            e.preventDefault();\r\n            insertSymbol(uniqueSymbols[parseInt(e.key) - 1]);\r\n        }\r\n    }\r\n});","export class Storage {\r\n    constructor(id) {\r\n        this.id = id;\r\n    }\r\n\r\n    set(key, value) {\r\n        let temp = this.object;\r\n        temp[key] = value;\r\n        localStorage.setItem(this.id, JSON.stringify(temp));\r\n        return this;\r\n    }\r\n\r\n    get(key) {\r\n        return this.object[key];\r\n    }\r\n\r\n    delete(key) {\r\n        let temp = this.object;\r\n        delete temp[key];\r\n        localStorage.setItem(this.id, JSON.stringify(temp));\r\n        return this;\r\n    }\r\n\r\n    obliterate() {\r\n        localStorage.removeItem(this.id);\r\n    }\r\n\r\n    get object() {\r\n        return JSON.parse(localStorage.getItem(this.id)) || {};\r\n    }\r\n}","const symbols = require(\"./symbols.json\");\r\n\r\nexport class Autocomplete {\r\n    #start = 0;\r\n    #end = 0;\r\n    #query = \"\"\r\n\r\n    constructor(input, suggestion) {\r\n        this.input = input;\r\n        this.suggestion = suggestion;\r\n\r\n        this.input.addEventListener(\"keydown\", e => {\r\n            if (e.key == \"Tab\" && this.matches.length != 0) {\r\n                e.preventDefault();\r\n                e.target.setRangeText(symbols[this.matches[0]], this.#start, this.#end, \"end\");\r\n                this.#start = e.target.selectionEnd;\r\n                this.#query = e.target.value.substring(this.#start, this.#end + 1);\r\n                this.#updateSuggestion();\r\n            }\r\n            if (e.key == \"Escape\") {\r\n                this.#start = e.target.selectionEnd;\r\n                this.#query = e.target.value.substring(this.#start, this.#end + 1);\r\n                this.#updateSuggestion();\r\n            }\r\n            if (e.key == \" \") {\r\n                this.#start = e.target.selectionEnd;\r\n                this.#start++;\r\n                this.#end++;\r\n            }\r\n            if (this.#start > this.#end) {\r\n                this.#start = this.#end;\r\n            }\r\n        });\r\n\r\n        this.input.addEventListener(\"input\", e => {\r\n            this.update();\r\n        });\r\n    }\r\n\r\n    update() {\r\n        this.#end = this.input.selectionEnd;\r\n        this.#query = this.input.value.substring(this.#start, this.#end + 1);\r\n        if (this.matches.length == 0) {\r\n            this.#start = this.#end;\r\n        }\r\n        this.#updateSuggestion();\r\n        // console.log(this.#start, this.#end, this.#query, this.input.selectionEnd, this.matches);\r\n    }\r\n\r\n    get matches() {\r\n        if (this.#query?.trim()) {\r\n            return Object.keys(symbols).filter(string => string.startsWith(this.#query));\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    #updateSuggestion() {\r\n        if (this.matches.length != 0) {\r\n            this.suggestion.innerHTML = `<kbd>Tab</kbd> to insert ${symbols[this.matches[0]]} <kbd>Esc</kbd> to cancel`;\r\n        }\r\n        else if (this.#query?.trim()) {\r\n            this.suggestion.innerHTML = \"\";\r\n        }\r\n        else {\r\n            this.suggestion.innerHTML = \"\";\r\n        }\r\n    }\r\n}"],"names":["$84923368ea4a1ab4$export$195ba6d62321b933","title","body","buttons","blur","$84923368ea4a1ab4$export$96e4b36520c26a2c","$84923368ea4a1ab4$export$db77ccec0bb4ccac","element","outerHTML","dialog","document","createElement","buttonContainer","forEach","button","append","text","close","callback","innerHTML","showModal","querySelectorAll","addEventListener","remove","$84923368ea4a1ab4$export$57bf213be019eeb0","titleElement","open","prepend","$84923368ea4a1ab4$export$1d81a0b79d181512","constructor","this","tag","onclick","textContent","$7471686747bdb57e$exports","JSON","parse","$35da740d59af89ba$var$storage","id","set","key","value","temp","object","localStorage","setItem","stringify","get","delete","obliterate","removeItem","getItem","$35da740d59af89ba$var$modals","symbols","getElementById","code","$35da740d59af89ba$var$saveCode","settings","theme","storage","history","input","test","$35da740d59af89ba$var$updateCode","e","target","getAttribute","parseInt","preventDefault","col","row","toString","$35da740d59af89ba$var$questionInput","$35da740d59af89ba$var$answerInput","$35da740d59af89ba$var$autocomplete","start","end","query","suggestion","matches","length","setRangeText","selectionEnd","substring","updateSuggestion","update","trim","Object","keys","filter","string","startsWith","$35da740d59af89ba$var$submitClick","question","answer","params","URLSearchParams","fetch","method","mode","headers","timestamp","Date","now","push","$35da740d59af89ba$var$updateHistory","$35da740d59af89ba$var$storeClick","focus","classList","add","$35da740d59af89ba$var$descriptions","a","b","c","d","feed","item","date","period","month","getMonth","day","getDate","hours","getHours","getMinutes","padStart","$35da740d59af89ba$var$timeToString","choice","ordered","items","list","$84923368ea4a1ab4$export$5897d8d7c7a3d871","toUpperCase","$35da740d59af89ba$var$uniqueSymbols","Set","values","$35da740d59af89ba$var$insertSymbol","symbol","selectionStart","index","querySelector","setAttribute","$35da740d59af89ba$var$resets","removeAttribute","all","anyDialogOpen","Array","from","some","ctrlKey","click","altKey"],"version":3,"file":"index.685e8047.js.map"}